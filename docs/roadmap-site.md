# Documentation du projet .blancherenaudin

## Vue d'ensemble

**Projet** : Site e-commerce pour la marque de mode fran√ßaise .blancherenaudin

**Technologies** : Next.js 14, TypeScript, Tailwind CSS, Zustand

**Style** : Mode contemporaine, design √©pur√© et √©l√©gant

## Architecture du projet

```
src/
‚îú‚îÄ‚îÄ app/                    # App Router Next.js 14
‚îÇ   ‚îú‚îÄ‚îÄ about/             # Page "√Ä propos"
‚îÇ   ‚îú‚îÄ‚îÄ cart/              # Panier d'achat
‚îÇ   ‚îú‚îÄ‚îÄ collections/       # Collections de produits
‚îÇ   ‚îú‚îÄ‚îÄ contact/           # Page de contact
‚îÇ   ‚îú‚îÄ‚îÄ products/          # Catalogue produits
‚îÇ   ‚îú‚îÄ‚îÄ globals.css        # Styles globaux avec animations
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # Layout racine
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx           # Page d'accueil interactive
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ common/            # Composants r√©utilisables
‚îÇ   ‚îú‚îÄ‚îÄ layout/            # Composants de mise en page
‚îÇ   ‚îî‚îÄ‚îÄ ui/                # Biblioth√®que de composants UI
‚îú‚îÄ‚îÄ hooks/                 # Hooks personnalis√©s
‚îú‚îÄ‚îÄ lib/                   # Utilitaires et configuration
‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # Types TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ mock-data.ts       # Donn√©es de d√©monstration
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts           # Fonctions utilitaires
‚îî‚îÄ‚îÄ store/                 # √âtat global avec Zustand
```

## Fonctionnalit√©s actuelles

### ‚úÖ Impl√©ment√©

1. **Page d'accueil interactive**
   - Animation d'entr√©e avec lettres dispers√©es
   - Navigation fluide vers les diff√©rentes sections
   - Design immersif avec hover effects
2. **Navigation**
   - Header responsive avec menu hamburger mobile
   - Liens vers toutes les pages principales
   - Compteur de panier en temps r√©el
3. **Catalogue produits**
   - Grille de produits avec filtres par cat√©gorie
   - Pages de d√©tail produit compl√®tes
   - Galerie d'images, s√©lection tailles/couleurs
   - Syst√®me de favoris et partage
4. **Collections**
   - Vue d'ensemble des collections
   - Pages d√©taill√©es par collection
   - Organisation th√©matique des produits
5. **Panier d'achat**
   - Gestion d'√©tat avec Zustand et persistence
   - Ajout/suppression/modification quantit√©s
   - Calculs automatiques des totaux
   - Codes promo (simulation)
6. **Pages statiques**
   - Page "√Ä propos" avec histoire de la marque
   - Formulaire de contact fonctionnel
   - Design coh√©rent et responsive

### üé® Design et UX

- **Palette de couleurs** : Violet/Purple (`<span class="inline-block w-3 h-3 border-[0.5px] border-border-200 rounded flex-shrink-0 shadow-sm mr-1 align-middle"></span>#8b5cf6`) comme couleur principale
- **Typographie** : Geist Sans pour une lisibilit√© optimale
- **Animations** : Transitions fluides, hover effects, micro-interactions
- **Responsive** : Design adapt√© mobile/tablet/desktop
- **Accessibilit√©** : Structure s√©mantique, contrastes respect√©s

## √âtat des donn√©es

### Donn√©es actuelles (Mock)

Les donn√©es sont actuellement stock√©es dans `/src/lib/mock-data.ts` :

typescript

```typescript
// 4 produits de d√©monstration
exportconst mockProducts:Product[]=[...]

// 2 collections de d√©monstration
exportconst mockCollections:Collection[]=[...]
```

### Types d√©finis

typescript

```typescript
interfaceProduct{
  id:string;
  name:string;
  description:string;
  price:number;
  images:string[];
  category:string;
  inStock:boolean;
  featured?:boolean;
  sizes?:string[];
  colors?:string[];
}

interfaceCollection{
  id:string;
  name:string;
  description:string;
  image:string;
  products:Product[];
  featured?:boolean;
}

interfaceCartItem{
  id:string;
  name:string;
  price:number;
  quantity:number;
  image?:string;
  size?:string;
  color?:string;
}
```

## √âtapes √† venir

### üóÑÔ∏è 1. Impl√©mentation de la base de donn√©es (Priorit√© 1)

#### a) Choix de la stack base de donn√©es

**Recommandation** : PostgreSQL + Prisma ORM

**Alternatives possibles** :

- MongoDB + Mongoose (NoSQL)
- Supabase (PostgreSQL managed)
- PlanetScale (MySQL managed)

#### b) Sch√©ma de base de donn√©es

sql

```sql
-- Cat√©gories de produits
CREATETABLE categories (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  name VARCHAR(100)NOTNULL,
  slug VARCHAR(100)NOTNULLUNIQUE,
  description TEXT,
  image_url VARCHAR(500),
  parent_id UUID REFERENCES categories(id),
  sort_order INTEGERDEFAULT0,
  is_active BOOLEANDEFAULTtrue,
  created_at TIMESTAMPDEFAULTNOW(),
  updated_at TIMESTAMPDEFAULTNOW()
);

-- Produits
CREATETABLE products (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  name VARCHAR(200)NOTNULL,
  slug VARCHAR(200)NOTNULLUNIQUE,
  description TEXT,
  short_description VARCHAR(500),
  price DECIMAL(10,2)NOTNULL,
  sale_price DECIMAL(10,2),
  sku VARCHAR(100)UNIQUE,
  stock_quantity INTEGERDEFAULT0,
  is_featured BOOLEANDEFAULTfalse,
  is_active BOOLEANDEFAULTtrue,
  category_id UUID REFERENCES categories(id),
  created_at TIMESTAMPDEFAULTNOW(),
  updated_at TIMESTAMPDEFAULTNOW()
);

-- Images produits
CREATETABLE product_images (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  product_id UUID REFERENCES products(id)ONDELETECASCADE,
  url VARCHAR(500)NOTNULL,
  alt_text VARCHAR(200),
  sort_order INTEGERDEFAULT0,
  is_primary BOOLEANDEFAULTfalse
);

-- Variantes (tailles, couleurs)
CREATETABLE product_variants (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  product_id UUID REFERENCES products(id)ONDELETECASCADE,
  name VARCHAR(100)NOTNULL,-- "Taille", "Couleur"
valueVARCHAR(100)NOTNULL,-- "L", "Rouge"
  stock_quantity INTEGERDEFAULT0,
  price_modifier DECIMAL(8,2)DEFAULT0,
  sku VARCHAR(100),
  is_active BOOLEANDEFAULTtrue
);

-- Collections
CREATETABLE collections (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  name VARCHAR(200)NOTNULL,
  slug VARCHAR(200)NOTNULLUNIQUE,
  description TEXT,
  image_url VARCHAR(500),
  is_featured BOOLEANDEFAULTfalse,
  is_active BOOLEANDEFAULTtrue,
  sort_order INTEGERDEFAULT0,
  created_at TIMESTAMPDEFAULTNOW(),
  updated_at TIMESTAMPDEFAULTNOW()
);

-- Relation produits-collections (many-to-many)
CREATETABLE collection_products (
  collection_id UUID REFERENCES collections(id)ONDELETECASCADE,
  product_id UUID REFERENCES products(id)ONDELETECASCADE,
  sort_order INTEGERDEFAULT0,
PRIMARYKEY(collection_id, product_id)
);

-- Utilisateurs
CREATETABLE users (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  email VARCHAR(255)NOTNULLUNIQUE,
  password_hash VARCHAR(255),
  first_name VARCHAR(100),
  last_name VARCHAR(100),
  phone VARCHAR(20),
  role VARCHAR(20)DEFAULT'customer',-- 'admin', 'customer'
  is_active BOOLEANDEFAULTtrue,
  email_verified BOOLEANDEFAULTfalse,
  created_at TIMESTAMPDEFAULTNOW(),
  updated_at TIMESTAMPDEFAULTNOW()
);

-- Adresses
CREATETABLE addresses (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id)ONDELETECASCADE,
typeVARCHAR(20)DEFAULT'shipping',-- 'billing', 'shipping'
  first_name VARCHAR(100),
  last_name VARCHAR(100),
  company VARCHAR(100),
  address_line_1 VARCHAR(200),
  address_line_2 VARCHAR(200),
  city VARCHAR(100),
  postal_code VARCHAR(20),
  country VARCHAR(2)DEFAULT'FR',
  is_default BOOLEANDEFAULTfalse
);

-- Commandes
CREATETABLE orders (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  order_number VARCHAR(50)NOTNULLUNIQUE,
statusVARCHAR(20)DEFAULT'pending',-- 'pending', 'confirmed', 'shipped', 'delivered', 'cancelled'
  total_amount DECIMAL(10,2)NOTNULL,
  shipping_amount DECIMAL(8,2)DEFAULT0,
  tax_amount DECIMAL(8,2)DEFAULT0,
  discount_amount DECIMAL(8,2)DEFAULT0,
  payment_status VARCHAR(20)DEFAULT'pending',
  shipping_address_id UUID REFERENCES addresses(id),
  billing_address_id UUID REFERENCES addresses(id),
  notes TEXT,
  created_at TIMESTAMPDEFAULTNOW(),
  updated_at TIMESTAMPDEFAULTNOW()
);

-- Lignes de commande
CREATETABLE order_items (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  order_id UUID REFERENCES orders(id)ONDELETECASCADE,
  product_id UUID REFERENCES products(id),
  variant_id UUID REFERENCES product_variants(id),
  quantity INTEGERNOTNULL,
  unit_price DECIMAL(10,2)NOTNULL,
  total_price DECIMAL(10,2)NOTNULL,
  product_name VARCHAR(200),-- Snapshot au moment de la commande
  variant_name VARCHAR(200)
);

-- Codes promo
CREATETABLE coupons (
  id UUID PRIMARYKEYDEFAULT gen_random_uuid(),
  code VARCHAR(50)NOTNULLUNIQUE,
typeVARCHAR(20)DEFAULT'percentage',-- 'percentage', 'fixed'
valueDECIMAL(8,2)NOTNULL,
  minimum_amount DECIMAL(8,2),
  usage_limit INTEGER,
  used_count INTEGERDEFAULT0,
  is_active BOOLEANDEFAULTtrue,
  valid_from TIMESTAMP,
  valid_until TIMESTAMP,
  created_at TIMESTAMPDEFAULTNOW()
);
```

#### c) Configuration Prisma

bash

```bash
npminstall prisma @prisma/client
npx prisma init
```

**prisma/schema.prisma** :

prisma

```prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Category {
  id          String    @id @default(cuid())
  name        String
  slug        String    @unique
  description String?
  imageUrl    String?   @map("image_url")
  parentId    String?   @map("parent_id")
  sortOrder   Int       @default(0) @map("sort_order")
  isActive    Boolean   @default(true) @map("is_active")
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @updatedAt @map("updated_at")

  parent      Category? @relation("CategoryHierarchy", fields: [parentId], references: [id])
  children    Category[] @relation("CategoryHierarchy")
  products    Product[]

  @@map("categories")
}

// ... autres mod√®les
```

#### d) Migration des donn√©es existantes

1. **Script de migration** :

typescript

```typescript
// scripts/migrate-mock-data.ts
import{PrismaClient}from'@prisma/client'
import{ mockProducts, mockCollections }from'../src/lib/mock-data'

const prisma =newPrismaClient()

asyncfunctionmain(){
// Migration des cat√©gories
const categories =['Vestes','Robes','Chemises']
for(const categoryName of categories){
await prisma.category.create({
      data:{
        name: categoryName,
        slug: categoryName.toLowerCase(),
}
})
}

// Migration des produits
for(const product of mockProducts){
const category =await prisma.category.findFirst({
      where:{ name: product.category}
})

await prisma.product.create({
      data:{
        name: product.name,
        slug: product.id,
        description: product.description,
        price: product.price,
        stockQuantity: product.inStock?10:0,
        isFeatured: product.featured||false,
        categoryId: category?.id,
        images:{
          create: product.images.map((url, index)=>({
            url,
            sortOrder: index,
            isPrimary: index ===0
}))
}
}
})
}
}
```

### üîê 2. Authentification et gestion utilisateurs (Priorit√© 2)

#### Options recommand√©es :

- **NextAuth.js** (Auth.js v5) - Solution compl√®te
- **Clerk** - Service manag√© avec UI
- **Supabase Auth** - Si base Supabase choisie

#### Fonctionnalit√©s √† impl√©menter :

- Inscription/Connexion
- Profil utilisateur
- Historique des commandes
- Adresses de livraison
- Liste de souhaits

### üí≥ 3. Syst√®me de paiement (Priorit√© 3)

#### Options :

- **Stripe** - Leader mondial, excellent developer experience
- **PayPal** - Alternative populaire
- **Payement local** - CB via banques fran√ßaises

#### Fonctionnalit√©s :

- Tunnel d'achat s√©curis√©
- Gestion des moyens de paiement
- Webhooks pour confirmations
- Remboursements

### üì¶ 4. Gestion des commandes et stock (Priorit√© 4)

- Interface d'administration
- Suivi des stocks en temps r√©el
- Notifications de stock faible
- Gestion des commandes
- Export/import de donn√©es

### üöÄ 5. Optimisations et fonctionnalit√©s avanc√©es (Priorit√© 5)

- **SEO** : M√©tadonn√©es, sitemap, rich snippets
- **Performance** : Cache, CDN, optimisation images
- **Analytics** : Google Analytics, tracking e-commerce
- **Marketing** : Newsletter, codes promo, recommandations
- **Recherche** : Algolia ou Elasticsearch pour recherche avanc√©e
- **Mobile** : PWA, notifications push
- **Internationalisation** : Multi-langue/devise
- **Tests** : Jest, Cypress pour tests E2E

### üõ†Ô∏è 6. D√©ploiement et DevOps

- **H√©bergement** : Vercel, Netlify, ou VPS
- **Base de donn√©es** : Hosting manag√© (Supabase, PlanetScale, Railway)
- **CI/CD** : GitHub Actions
- **Monitoring** : Sentry pour error tracking
- **Backup** : Strat√©gie de sauvegarde BDD

## Prochaines √©tapes imm√©diates

1. **[Cette semaine]** Configurer la base de donn√©es locale avec Prisma + PostgreSQL
2. **[Semaine suivante]** Migrer les donn√©es mock vers la vraie BDD
3. **[Dans 2 semaines]** Impl√©menter les API routes Next.js pour CRUD produits
4. **[Dans 3 semaines]** Commencer l'authentification avec NextAuth.js

## Technologies et d√©pendances

json

```json
{
  "dependencies": {
    "next": "14.x",
    "react": "18.x",
    "typescript": "5.x",
    "@prisma/client": "^5.0.0",
    "prisma": "^5.0.0",
    "zustand": "^4.4.0",
    "next-auth": "^4.24.0",
    "stripe": "^14.0.0"
  }
}
```

Cette roadmap assure une progression logique du MVP actuel vers une plateforme e-commerce compl√®te et professionnelle. La priorit√© sur la base de donn√©es permettra de poser des fondations solides pour toutes les fonctionnalit√©s suivantes.
